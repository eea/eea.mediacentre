<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="p4a.video">

<body>

<metal:headslot fill-slot="head_slot">
    <style type="text/css">
    .media-player {
        width: auto;
    }
    </style>
</metal:headslot>

<metal:cssslot fill-slot="css_slot">
    <link rel="stylesheet" href="video.css"
          tal:attributes="href string:$portal_url/++resource++videostyles/video.css"
        />
</metal:cssslot>

<div metal:fill-slot="main"
     tal:define="video_info context/@@video_view;
                 context_url string:${context/absolute_url};
                 mime_type context/content_type;
     ">
    <tal:main-macro metal:define-macro="main" 
           tal:define="size python:context.getObjSize(context);">

        <div metal:use-macro="context/document_actions/macros/document_actions">
            Document actions (print, sendto etc)
        </div>

        <h1 tal:content="video_info/title" class="documentFirstHeading">
            Title or id
        </h1>

        <div metal:use-macro="context/document_byline/macros/byline">
          Get the byline - contains details about author and modification date.
        </div>

        <div id="related-portlets">
        <metal:themes use-macro="here/portlet_themes_object/macros/portlet" />
        <div metal:use-macro="here/document_relateditems/macros/multimedia">
            show related multimedia items if they exist
        </div>
        <div metal:use-macro="here/document_relateditems/macros/pages">
            show related pages if they exist
        </div>
        <div metal:use-macro="here/document_relateditems/macros/auto">
            show auto related items if they exist
        </div>
        </div>

        <div class="documentDescription" tal:content="context/Description">
           Description
        </div>

        <div id="objmetadata_pbwidgets_wrapper">
            <div id="playback_widgets">

              <a tal:condition="video_info/has_media_player" id="popup_play_icon"
                 href="#" title="Play in popup window" class="widget_icon"
                 tal:attributes="href string:javascript:void window.open('${context/absolute_url}/popup-play.html', '', 'width=200, height=45, toolbar=no, location=no, directories=no, status=no, menubar=no')">
              </a>
              <a href="" id="play_icon" class="widget_icon"
                  tal:attributes="href string:$context_url/stream.m3u" title="Stream file"></a>
              <a href="" id="download_icon" class="widget_icon"
                  tal:attributes="href string:$context_url" title="Download file"></a>

            </div>          
                   
            <div tal:replace="structure view/widgets/media_player"></div>
        </div>
          
        <div class="visualClear">&nbsp;</div>
        
    </tal:main-macro>
    <!-- Mark this view as being a main view template /-->
    <tal:block tal:define="global isViewTemplate python:True"/>
</div>

</body>

</html>
